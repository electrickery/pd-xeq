#N canvas 43 571 450 508 10;
#X declare -lib xeq/xeq;
#X obj 72 192 xeq_parse \$0-var;
#X obj 298 509 declare -lib xeq/xeq;
#X obj 301 456 xeq \$0-var;
#X msg 301 417 mfread mf/kanon.mid;
#X obj 57 84 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 84 84 rewind;
#X obj 72 264 list prepend;
#X obj 72 286 route 1 2 3 4;
#X msg 141 83 stop;
#X obj 72 444 output~;
#X obj 181 264 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 72 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 838 247 629 362 s_phasor 0;
#X obj 29 5 inlet;
#X obj 30 287 outlet~;
#X obj 29 124 route 1 2 3 4;
#X obj 29 102 pack f f f;
#X obj 89 56 / 127;
#X obj 29 164 unpack f f;
#X obj 55 56 mtof;
#X obj 30 245 *~;
#X obj 134 164 unpack f f;
#X obj 135 245 *~;
#X obj 240 164 unpack f f;
#X obj 241 245 *~;
#X obj 347 163 unpack f f;
#X obj 348 244 *~;
#X obj 3 78 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 86 192 \$1 50;
#X msg 190 192 \$1 50;
#X msg 296 191 \$1 50;
#X msg 404 190 \$1 50;
#X obj 55 79 * 2;
#X obj 29 192 phasor~;
#X obj 134 192 phasor~;
#X obj 240 192 phasor~;
#X obj 347 191 phasor~;
#X obj 86 213 line;
#X obj 190 213 line;
#X obj 296 213 line;
#X obj 404 215 line;
#X obj 29 30 poly 4 1;
#X msg 105 6 clear;
#X connect 0 0 28 0;
#X connect 2 0 5 0;
#X connect 2 1 8 0;
#X connect 2 2 10 0;
#X connect 2 3 12 0;
#X connect 3 0 2 0;
#X connect 4 0 3 2;
#X connect 5 0 20 0;
#X connect 5 1 15 0;
#X connect 6 0 19 0;
#X connect 7 0 1 0;
#X connect 8 0 21 0;
#X connect 8 1 16 0;
#X connect 9 0 1 0;
#X connect 10 0 22 0;
#X connect 10 1 17 0;
#X connect 11 0 1 0;
#X connect 12 0 23 0;
#X connect 12 1 18 0;
#X connect 13 0 1 0;
#X connect 15 0 24 0;
#X connect 16 0 25 0;
#X connect 17 0 26 0;
#X connect 18 0 27 0;
#X connect 19 0 3 1;
#X connect 20 0 7 0;
#X connect 21 0 9 0;
#X connect 22 0 11 0;
#X connect 23 0 13 0;
#X connect 24 0 7 1;
#X connect 25 0 9 1;
#X connect 26 0 11 1;
#X connect 27 0 13 1;
#X connect 28 0 3 0;
#X connect 28 0 14 0;
#X connect 28 1 6 0;
#X connect 28 2 4 0;
#X connect 29 0 28 0;
#X restore 72 335 pd s_phasor;
#N canvas 989 317 450 300 s_sine 0;
#X obj 29 5 inlet;
#X obj 30 266 outlet~;
#X obj 29 30 poly 4 1;
#X obj 29 103 route 1 2 3 4;
#X obj 29 81 pack f f f;
#X obj 89 56 / 127;
#X obj 29 143 unpack f f;
#X obj 55 56 mtof;
#X obj 29 171 osc~;
#X obj 30 224 *~;
#X obj 121 143 unpack f f;
#X obj 121 171 osc~;
#X obj 122 224 *~;
#X obj 214 143 unpack f f;
#X obj 214 171 osc~;
#X obj 215 224 *~;
#X obj 307 142 unpack f f;
#X obj 307 170 osc~;
#X obj 308 223 *~;
#X obj 5 58 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 65 172 \$1 50;
#X msg 158 171 \$1 50;
#X msg 250 170 \$1 50;
#X msg 351 169 \$1 50;
#X obj 351 194 line;
#X obj 250 192 line;
#X obj 158 192 line;
#X obj 65 193 line;
#X msg 105 6 clear;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 19 0;
#X connect 2 1 7 0;
#X connect 2 2 5 0;
#X connect 3 0 6 0;
#X connect 3 1 10 0;
#X connect 3 2 13 0;
#X connect 3 3 16 0;
#X connect 4 0 3 0;
#X connect 5 0 4 2;
#X connect 6 0 8 0;
#X connect 6 1 20 0;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 10 1 21 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 22 0;
#X connect 14 0 15 0;
#X connect 15 0 1 0;
#X connect 16 0 17 0;
#X connect 16 1 23 0;
#X connect 17 0 18 0;
#X connect 18 0 1 0;
#X connect 20 0 27 0;
#X connect 21 0 26 0;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 24 0 18 1;
#X connect 25 0 15 1;
#X connect 26 0 12 1;
#X connect 27 0 9 1;
#X connect 28 0 2 0;
#X restore 155 335 pd s_sine;
#N canvas 934 383 584 419 s_square 0;
#X obj 29 5 inlet;
#X obj 30 297 outlet~;
#X obj 29 30 poly 4 1;
#X obj 29 103 route 1 2 3 4;
#X obj 29 81 pack f f f;
#X obj 89 56 / 127;
#X obj 29 143 unpack f f;
#X obj 55 56 mtof;
#X obj 29 172 osc~;
#X obj 30 255 *~;
#X obj 130 143 unpack f f;
#X obj 130 171 osc~;
#X obj 131 255 *~;
#X obj 247 143 unpack f f;
#X obj 247 171 osc~;
#X obj 248 255 *~;
#X obj 364 142 unpack f f;
#X obj 364 170 osc~;
#X obj 365 254 *~;
#X obj 5 58 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 79 172 \$1 50;
#X msg 182 172 \$1 50;
#X msg 296 170 \$1 50;
#X msg 414 168 \$1 50;
#X obj 414 193 line;
#X obj 296 192 line;
#X obj 182 193 line;
#X obj 79 193 line;
#X obj 29 193 *~ 100;
#X obj 29 215 clip~ -1 1;
#X obj 130 194 *~ 100;
#X obj 130 216 clip~ -1 1;
#X obj 247 192 *~ 100;
#X obj 247 214 clip~ -1 1;
#X obj 364 192 *~ 100;
#X obj 364 214 clip~ -1 1;
#X msg 105 6 clear;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 19 0;
#X connect 2 1 7 0;
#X connect 2 2 5 0;
#X connect 3 0 6 0;
#X connect 3 1 10 0;
#X connect 3 2 13 0;
#X connect 3 3 16 0;
#X connect 4 0 3 0;
#X connect 5 0 4 2;
#X connect 6 0 8 0;
#X connect 6 1 20 0;
#X connect 7 0 4 1;
#X connect 8 0 28 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 10 1 21 0;
#X connect 11 0 30 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 22 0;
#X connect 14 0 32 0;
#X connect 15 0 1 0;
#X connect 16 0 17 0;
#X connect 16 1 23 0;
#X connect 17 0 34 0;
#X connect 18 0 1 0;
#X connect 20 0 27 0;
#X connect 21 0 26 0;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 24 0 18 1;
#X connect 25 0 15 1;
#X connect 26 0 12 1;
#X connect 27 0 9 1;
#X connect 28 0 29 0;
#X connect 29 0 9 0;
#X connect 30 0 31 0;
#X connect 31 0 12 0;
#X connect 32 0 33 0;
#X connect 33 0 15 0;
#X connect 34 0 35 0;
#X connect 35 0 18 0;
#X connect 36 0 2 0;
#X restore 225 335 pd s_square;
#X obj 115 372 *~ 0.2;
#X obj 199 372 *~ 0.2;
#X text 45 47 This is a `midiparse' of xeq group;
#X text 45 26 xeq_parse;
#N canvas 1 100 519 947 parse 0;
#X msg 21 17 host aHost;
#X msg 190 41 loop gimme;
#X msg 194 66 rewind;
#X msg 198 89 stop;
#X msg 199 112 flush;
#X msg 327 145 event gimme;
#X obj 57 268 xeq_parse \$0-all;
#X obj 11 326 print data;
#X obj 12 349 print poly;
#X obj 88 326 print ctl;
#X obj 108 349 print pgm;
#X obj 158 326 print touch;
#X obj 192 349 print bend;
#X obj 244 326 print chan;
#X obj 310 349 print end;
#X text 2 393 track s;
#X text 83 393 - without argument reports the current track template
name;
#X text 83 407 - with argument \, sets the current track template name
;
#X text 2 424 transpo f;
#X text 83 424 - sets the transposition (-128 to +128);
#X text 2 444 tempo f;
#X text 83 444 - sets the tempo (1e-20 to 1e+20);
#X text 2 463 host s;
#X text 83 463 - sets the host providing the sequence;
#X text 2 482 next d;
#X text 83 482 - moves and plays the next event/note. If the optional
argument is not 0 \, only the move is made.;
#X msg 186 18 next;
#X msg 44 55 tracks;
#X msg 56 78 transpo;
#X msg 65 102 tempo;
#X text 2 607 flush;
#X text 83 607 - sends key-off for all 128 keys on all 16 channels
;
#X text 2 559 stop;
#X text 83 559 - stops the current playback;
#X text 2 512 loop s|f;
#X text 2 580 rewind;
#X text 83 580 - stops playback and resets the pointer to the start
of the track;
#X text 2 626 locate ..;
#X text 2 658 locafter ..;
#X text 2 686 skipnotes;
#X text 2 744 event;
#X text 83 626 - accepts up to two arguments: symbol-float \, symbol-symbol
\, or just a float;
#X text 84 686 - accepts up to two arguments: symbol-float \, symbol-symbol
\, or just a float (=locate in skipnotes mode);
#X text 84 658 - accepts up to two arguments: symbol-float \, symbol-symbol
\, or just a float (= locate in relative mode);
#X text 84 744 - (=find in event mode);
#X text 2 716 find ...;
#X text 84 716 - looks for the provided pattern of symbols/floats.
reports the location in atom count and millis-seconds at the console
;
#X text 8 822 <timestamp> <track name> <command> <note number> <velocity>
<channel> \;, f 71;
#X text 6 805 midi file internal presentation:;
#X text 7 840 timestamp = in milliseconds;
#X text 8 856 track name = free text track description;
#X text 8 870 command = the midi message first byte with channel part
masked off, f 68;
#X text 9 885 note number = the midi message second byte;
#X text 10 901 velocity = the midi message third byte;
#X text 9 917 channel = the midi message first byte with command masked
off, f 64;
#X msg 292 55 locate Track-1 128;
#X msg 302 77 locafter Track-2 144;
#X msg 311 100 skipnotes Track-3 144;
#X msg 319 122 find 144 42 88 4;
#X text 98 527 no args: restarts previous loop;
#X text 98 541 break: stops the loop;
#X text 84 515 - two floats: begin and end point of the loop range
;
#X connect 0 0 6 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 6 2 9 0;
#X connect 6 3 10 0;
#X connect 6 4 11 0;
#X connect 6 5 12 0;
#X connect 6 6 13 0;
#X connect 6 7 14 0;
#X connect 26 0 6 0;
#X connect 27 0 6 0;
#X connect 28 0 6 0;
#X connect 29 0 6 0;
#X connect 55 0 6 0;
#X connect 56 0 6 0;
#X connect 57 0 6 0;
#X connect 58 0 6 0;
#X restore 290 391 pd parse allMessages;
#N canvas 873 185 478 361 s_sine_oct 0;
#X obj 29 5 inlet;
#X obj 30 336 outlet~;
#X obj 29 30 poly 4 1;
#X obj 29 124 route 1 2 3 4;
#X obj 29 102 pack f f f;
#X obj 89 56 / 127;
#X obj 29 164 unpack f f;
#X obj 55 56 mtof;
#X obj 29 294 *~;
#X obj 134 164 unpack f f;
#X obj 134 294 *~;
#X obj 240 164 unpack f f;
#X obj 241 294 *~;
#X obj 347 163 unpack f f;
#X obj 348 293 *~;
#X obj 3 78 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 86 192 \$1 50;
#X msg 190 192 \$1 50;
#X msg 296 191 \$1 50;
#X msg 404 190 \$1 50;
#X obj 55 79 * 2;
#X obj 86 213 line;
#X obj 190 213 line;
#X obj 296 213 line;
#X obj 404 215 line;
#X obj 29 241 *~ 5;
#X obj 29 267 clip~ -1 1;
#X obj 29 217 -~ 0.5;
#X obj 134 238 *~ 5;
#X obj 134 264 clip~ -1 1;
#X obj 134 214 -~ 0.5;
#X obj 241 238 *~ 5;
#X obj 241 264 clip~ -1 1;
#X obj 241 214 -~ 0.5;
#X obj 347 238 *~ 5;
#X obj 347 264 clip~ -1 1;
#X obj 347 214 -~ 0.5;
#X obj 29 193 osc~;
#X obj 134 192 osc~;
#X obj 240 192 osc~;
#X obj 347 191 osc~;
#X msg 105 6 clear;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 15 0;
#X connect 2 1 7 0;
#X connect 2 2 5 0;
#X connect 3 0 6 0;
#X connect 3 1 9 0;
#X connect 3 2 11 0;
#X connect 3 3 13 0;
#X connect 4 0 3 0;
#X connect 5 0 4 2;
#X connect 6 0 37 0;
#X connect 6 1 16 0;
#X connect 7 0 20 0;
#X connect 8 0 1 0;
#X connect 9 0 38 0;
#X connect 9 1 17 0;
#X connect 10 0 1 0;
#X connect 11 0 39 0;
#X connect 11 1 18 0;
#X connect 12 0 1 0;
#X connect 13 0 40 0;
#X connect 13 1 19 0;
#X connect 14 0 1 0;
#X connect 16 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 23 0;
#X connect 19 0 24 0;
#X connect 20 0 4 1;
#X connect 21 0 8 1;
#X connect 22 0 10 1;
#X connect 23 0 12 1;
#X connect 24 0 14 1;
#X connect 25 0 26 0;
#X connect 26 0 8 0;
#X connect 27 0 25 0;
#X connect 28 0 29 0;
#X connect 29 0 10 0;
#X connect 30 0 28 0;
#X connect 31 0 32 0;
#X connect 32 0 12 0;
#X connect 33 0 31 0;
#X connect 34 0 35 0;
#X connect 35 0 14 0;
#X connect 36 0 34 0;
#X connect 37 0 27 0;
#X connect 38 0 30 0;
#X connect 39 0 33 0;
#X connect 40 0 36 0;
#X connect 41 0 2 0;
#X restore 312 335 pd s_sine_oct;
#X obj 155 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 224 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 311 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 144 133 next;
#X msg 153 155 next 1;
#X msg 288 271 stop;
#X msg 190 99 loop;
#X msg 229 150 loop 2;
#X msg 209 120 loop break;
#X connect 0 0 6 0;
#X connect 0 6 6 1;
#X connect 0 7 10 0;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 7 0 12 0;
#X connect 7 0 11 0;
#X connect 7 1 13 0;
#X connect 7 1 21 0;
#X connect 7 2 14 0;
#X connect 7 2 22 0;
#X connect 7 3 20 0;
#X connect 7 3 23 0;
#X connect 8 0 0 0;
#X connect 12 0 9 0;
#X connect 12 0 9 1;
#X connect 13 0 9 1;
#X connect 13 0 15 0;
#X connect 14 0 9 0;
#X connect 14 0 16 0;
#X connect 15 0 9 0;
#X connect 16 0 9 1;
#X connect 20 0 9 1;
#X connect 20 0 9 0;
#X connect 24 0 0 0;
#X connect 25 0 0 0;
#X connect 26 0 20 0;
#X connect 26 0 14 0;
#X connect 26 0 13 0;
#X connect 26 0 12 0;
#X connect 27 0 0 0;
#X connect 28 0 0 0;
#X connect 29 0 0 0;
